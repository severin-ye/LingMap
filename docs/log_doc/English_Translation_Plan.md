# 《凡人修仙传》因果事件图谱生成系统 - 英文翻译计划

## 📋 项目概述

本文档概述了将《凡人修仙传因果事件图谱生成系统》从中文翻译为英文的全面计划。翻译内容包括代码注释、文档、配置文件、错误信息和用户界面，以使项目能够被国际开发者访问。

## 🎯 翻译目标

1. **实现全面国际化**：使项目对英语开发者完全可访问
2. **保持技术准确性**：保留精确的技术术语和系统逻辑
3. **代码质量**：确保翻译后的代码可读性和可维护性
4. **文档一致性**：在所有文件中提供一致的英文文档
5. **文化适应性**：调整小说特定术语和概念以适应国际理解

## 📊 翻译范围分析

### 1. 代码文件分析（共94个Python文件）

#### 1.1 高优先级Python文件
- **主入口**：`main.py` - 系统入口文件，包含中文文档字符串
- **服务应用**：微服务中的所有`app.py`文件
- **控制器**：所有包含中文注释的控制器文件
- **模型**：包含中文字段描述的数据模型
- **工具类**：包含中文文档的通用工具函数

#### 1.2 翻译分类
| 分类 | 文件数量 | 优先级 | 预计工时 |
|----------|------------|----------|-----------------|
| 主入口及核心 | 5 | 关键 | 8 |
| 服务层 | 25 | 高 | 20 |
| 控制器 | 15 | 高 | 12 |
| 模型和接口 | 20 | 中 | 15 |
| 工具类 | 15 | 中 | 10 |
| 测试文件 | 25+ | 低 | 15 |

### 2. 配置文件（共12个JSON文件）

#### 2.1 关键配置文件
- `common/config/prompt_event_extraction.json` - 事件提取提示（全中文）
- `common/config/prompt_causal_linking.json` - 因果链接提示（全中文）
- `common/config/prompt_hallucination_refine.json` - 幻觉修正提示（全中文）
- `common/config/config.json` - 系统主配置

#### 2.2 配置文件翻译策略
- 保持JSON结构完整性
- 翻译提示模板，同时保留AI指令的有效性
- 为关键提示创建双语版本
- 更新示例数据以使用英文等效内容

### 3. 文档文件（共16个Markdown文件）

#### 3.1 文档优先级矩阵
| 文档 | 当前状态 | 优先级 | 翻译复杂度 |
|----------|----------------|----------|----------------------|
| `README.md` | 部分英文 | 关键 | 低 |
| `Code_Structure_Design.md` | 中文 | 关键 | 高 |
| `Project_Logic_Design.md` | 中文 | 高 | 高 |
| `Development_Plan.md` | 中文 | 高 | 中 |
| `Theoretical_Support.md` | 中文 | 高 | 高 |
| 日志文档（10个文件） | 中文 | 中 | 中 |

### 4. 小说内容分析

#### 4.1 需要翻译的小说特定术语
- "凡人修仙传" → "A Record of a Mortal's Journey to Immortality"
- "筑基" → "Foundation Establishment"
- "金丹" → "Golden Core"
- "元婴" → "Nascent Soul"
- "法宝" → "Magic Treasure"
- "丹药" → "Pills/Elixirs"
- "洞府" → "Cave Mansion"
- "修为" → "Cultivation Level"

## 🗂️ 详细翻译计划

### 阶段1：核心基础设施翻译（第1-2周）

#### 1.1 关键文件翻译
```
优先级1：核心系统文件
├── main.py - 系统入口
├── common/
│   ├── models/ - 所有模型类
│   ├── interfaces/ - 所有接口定义
│   └── utils/ - 核心工具函数
└── api_gateway/main.py - 网关入口
```

#### 1.2 配置文件
```
优先级1：AI提示配置
├── common/config/prompt_event_extraction.json
├── common/config/prompt_causal_linking.json
├── common/config/prompt_hallucination_refine.json
└── common/config/config.json
```

#### 1.3 关键文档
```
优先级1：核心文档
├── README.md（完整翻译）
├── Code_Structure_Design.md
└── Project_Logic_Design.md
```

### 阶段2：服务层翻译（第3-4周）

#### 2.1 微服务应用
```
服务翻译顺序：
1. text_ingestion/ - 文本处理服务
2. event_extraction/ - 事件提取服务
3. causal_linking/ - 因果关系服务
4. hallucination_refine/ - 幻觉修正服务
5. graph_builder/ - 图形可视化服务
```

#### 2.2 每个服务的组件
- `app.py` - 服务入口
- `controller/` - API控制器
- `service/` - 业务逻辑实现
- `domain/` - 领域模型
- `repository/` - 数据访问层
- `di/` - 依赖注入

### 阶段3：测试框架翻译（第5周）

#### 3.1 测试文件翻译
```
测试翻译结构：
├── tests/stage_1/ - 基础组件测试
├── tests/stage_2/ - 服务功能测试
├── tests/stage_3/ - 集成测试
├── tests/stage_4/ - 高级集成测试
├── tests/stage_5/ - 图形构建测试
├── tests/stage_6/ - 端到端测试
└── tests/integration_tests/ - 完整系统测试
```

#### 3.2 脚本文件
```
脚本翻译：
├── scripts/check_env.py - 环境检查
├── scripts/complete_test.py - 完整测试
├── scripts/run_demo.py - 演示执行
└── scripts/unified_parallel_tool.py - 并行工具
```

### 阶段4：文档完成（第6周）

#### 4.1 剩余文档
```
文档完成：
├── Development_Plan.md
├── Theoretical_Support.md
└── docs/log_doc/ - 所有日志文档（10个文件）
```

#### 4.2 日志文档翻译优先级
1. `FINAL_SYSTEM_REPORT.md` - 最终系统报告
2. `测试修复完成报告.md` - 测试完成报告
3. `并行处理优化总结报告.md` - 并行处理优化
4. 其他日志文档

## 🛠️ 翻译标准和指导原则

### 1. 代码翻译标准

#### 1.1 变量命名约定
```python
# 翻译前（中文）
def 提取事件(self, 文本内容: str) -> List[事件]:
    """从文本中提取事件"""
    事件列表 = []
    # 处理逻辑
    return 事件列表

# 翻译后（英文）
def extract_events(self, text_content: str) -> List[Event]:
    """Extract events from text content"""
    event_list = []
    # Processing logic
    return event_list
```

#### 1.2 类和方法命名
- 类：PascalCase（如EventExtractor, CausalLinker）
- 方法：snake_case（如extract_events, link_causality）
- 常量：UPPER_SNAKE_CASE（如MAX_EVENTS_PER_CHAPTER）

#### 1.3 注释翻译指南
- 保持技术准确性
- 使用标准英文文档格式
- 保留原始逻辑解释
- 为小说特定术语添加上下文

### 2. 配置文件翻译标准

#### 2.1 JSON提示翻译
```json
{
  "system": "你是一个专门分析中国修仙小说《凡人修仙传》的AI助手。你的任务是从小说片段中提取关键事件、人物、法宝和修炼相关的信息，并以结构化格式输出。",
  "instruction": "请仔细阅读下面的小说段落，提取出其中的关键事件。每个事件需要包含：事件描述、相关角色、涉及的法宝/丹药、事件结果、发生地点和时间。将提取结果以JSON格式输出。\n\n段落内容：\n{text}",
  "output_format": {
    "event_id": "自动生成，格式为 'Exx-y'，xx为章节号，y为事件序号",
    "description": "事件简要描述",
    "characters": ["涉及的人物列表"],
    "treasures": ["涉及的法宝/丹药列表"],
    "result": "事件结果",
    "location": "事件发生地点",
    "time": "事件发生时间",
    "chapter_id": "章节编号"
  }
}
```

### 3. 文档翻译标准

#### 3.1 技术术语一致性
- 维护翻译术语表
- 在所有文档中使用一致的术语
- 必要时提供文化背景的脚注

#### 3.2 Markdown结构保留
- 保留所有格式和结构
- 保留代码块和示例
- 相应更新文件路径和引用

## 📅 实施时间表

### 第1-2周：核心基础设施
- **第1-3天**：主入口和核心模型翻译
- **第4-7天**：配置文件和关键工具
- **第8-10天**：核心文档（README, Code Structure）
- **第11-14天**：核心组件的测试和验证

### 第3-4周：服务层
- **第15-18天**：文本摄取和事件提取服务
- **第19-22天**：因果链接和幻觉修正服务
- **第23-26天**：图形构建服务和API网关
- **第27-28天**：服务层测试和集成

### 第5周：测试框架
- **第29-31天**：测试文件翻译（阶段1-3）
- **第32-34天**：测试文件翻译（阶段4-6）
- **第35天**：脚本和工具翻译

### 第6周：文档和最终验证
- **第36-38天**：剩余文档翻译
- **第39-40天**：日志文档翻译
- **第41-42天**：最终审查和质量保证

## 🔧 翻译工具和资源

### 1. 推荐工具
- **IDE扩展**：
  - 中文到英文翻译插件
  - 批量重命名的代码重构工具
- **文档工具**：
  - 支持翻译的Markdown编辑器
  - 用于变更跟踪的Git diff工具

### 2. 质量保证工具
- **Linting**：确保代码风格一致性
- **测试**：验证翻译后的功能
- **文档**：检查链接完整性和格式

### 3. 参考资源
- [Python命名约定（PEP 8）](https://pep8.org/)
- [修仙小说术语指南](https://immortalmountain.wordpress.com/glossary/)
- [技术写作风格指南](https://developers.google.com/style)

## 📋 翻译检查清单

### 翻译前准备
- [ ] 备份整个项目
- [ ] 在Git中创建翻译分支
- [ ] 设置翻译工具和环境
- [ ] 创建术语表
- [ ] 确立文件命名约定

### 阶段完成标准
- [ ] **阶段1**：核心系统以英文运行
- [ ] **阶段2**：所有服务具有英文接口
- [ ] **阶段3**：测试套件通过英文翻译
- [ ] **阶段4**：文档完整且连贯

### 质量保证
- [ ] 所有测试在翻译后通过
- [ ] 代码Linting通过英文命名
- [ ] 文档链接功能正常
- [ ] API响应为英文
- [ ] 错误信息已翻译
- [ ] 日志输出为英文

## 🎯 成功指标

### 技术指标
- **代码覆盖率**：保持100%测试通过率
- **功能性**：所有原始功能正常工作
- **性能**：系统性能无下降
- **可维护性**：提高国际开发者的代码可读性

### 文档指标
- **完整性**：所有文档翻译并更新
- **一致性**：所有文件中术语统一
- **可访问性**：对非中文开发者清晰
- **准确性**：技术细节正确保留

## 🚀 翻译后任务

### 1. 部署更新
- 使用英文配置更新部署脚本
- 必要时修改环境变量名称
- 更新Docker配置和文档

### 2. 社区准备
- 创建英文问题模板
- 准备英文贡献指南
- 设置未来语言的国际化支持

### 3. 维护计划
- 建立翻译更新流程
- 创建双语文档维护工作流
- 计划支持其他语言

## 📞 联系与支持

如需关于本翻译计划的问题或实施过程中的帮助：
- 项目负责人：[联系方式]
- 翻译团队：[团队联系方式]
- 技术审查：[审查员联系方式]

---

**文档版本**：1.0  
**创建时间**：2025年7月7日  
**最后更新**：2025年7月7日  
**状态**：准备实施  
**预计完成时间**：自开始日期起6周
